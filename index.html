<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FredDic Pro - Master Edition 2025</title>
    <style>
        :root {
            --bg: #e6ebf1; --card: #e6ebf1;
            --shd: 7px 7px 14px #c8d0d9, -7px -7px 14px #ffffff;
            --inner: inset 5px 5px 10px #c8d0d9, inset -5px -5px 10px #ffffff;
            --txt: #2c3e50; --blue: #1a73e8; --red: #d32f2f; --green: #188038;
        }
        [data-theme="dark"] {
            --bg: #1a1c1e; --card: #232629;
            --shd: 6px 6px 12px #000, -2px -2px 10px #333;
            --inner: inset 4px 4px 8px #000, inset -2px -2px 8px #333;
            --txt: #eee; --blue: #8ab4f8;
        }

        body { background: var(--bg); font-family: sans-serif; margin: 0; padding: 10px; direction: rtl; color: var(--txt); transition: 0.3s; overflow-x: hidden; }
        .app { width: 100%; max-width: 400px; margin: auto; padding-bottom: 130px; }

        /* Header */
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .h-btn { width: 50px; height: 50px; border-radius: 15px; border: none; background: var(--bg); box-shadow: var(--shd); cursor: pointer; font-size: 22px; color: var(--txt); display: flex; align-items: center; justify-content: center; }

        /* Search */
        .search-area { display: flex; gap: 10px; margin-bottom: 25px; }
        .search-btn { width: 60px; height: 60px; border-radius: 18px; border: none; background: var(--bg); box-shadow: var(--shd); cursor: pointer; font-size: 24px; }
        input { flex: 1; height: 60px; border-radius: 18px; border: none; background: var(--bg); box-shadow: var(--inner); padding: 0 15px; font-size: 18px; outline: none; color: var(--txt); text-align: left; direction: ltr; }

        /* Card */
        .card { background: var(--card); border-radius: 35px; box-shadow: var(--shd); padding: 25px; margin-bottom: 20px; display: none; }
        .w-en { font-size: 34px; font-weight: 900; color: var(--blue); text-transform: uppercase; text-align: left; direction: ltr; }
        .w-fa { font-size: 22px; color: var(--red); font-weight: bold; text-align: right; margin: 10px 0; }
        
        /* Elements */
        .box { background: var(--bg); border-radius: 20px; box-shadow: var(--shd); padding: 15px; margin-bottom: 12px; cursor: pointer; transition: 0.2s; }
        .box-en { font-size: 19px; font-weight: bold; display: block; text-align: left; direction: ltr; }
        .box-fa { font-size: 17px; color: var(--green); display: block; text-align: right; margin-top: 5px; }
        .box-ex { font-size: 14px; color: #777; display: block; text-align: left; direction: ltr; margin-top: 8px; font-style: italic; border-left: 2px solid var(--blue); padding-left: 8px; }

        /* Navigation Grid */
        .nav-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 15px; }
        .nav-btn { padding: 18px; border-radius: 20px; border: none; color: white; font-size: 15px; font-weight: bold; cursor: pointer; box-shadow: var(--shd); }

        /* Footer Status Bar */
        .footer { position: fixed; bottom: 0; left: 0; right: 0; background: var(--bg); padding: 15px; display: flex; justify-content: space-around; align-items: center; border-radius: 30px 30px 0 0; box-shadow: 0 -5px 15px rgba(0,0,0,0.1); z-index: 1000; }
        
        /* Marketing Overlay */
        #marketBox { display: none; background: #fff; color: #333; border: 2px solid var(--blue); position: relative; z-index: 2000; }
    </style>
</head>
<body>

<div class="app">
    <div class="header">
        <button class="h-btn" onclick="toggleTheme()">ğŸŒ“</button>
        <span id="userBadge" style="font-weight: 900; font-size: 14px;">ğŸ‘¤ Ù…ÛŒÙ‡Ù…Ø§Ù†</span>
        <button class="h-btn" id="muteBtn" onclick="toggleMute()">ğŸ”Š</button>
    </div>

    <div class="search-area">
        <button class="search-btn" onclick="doAction('search')">ğŸ”</button>
        <input type="text" id="wordInp" placeholder="Search (be, work)..." onkeypress="if(event.key==='Enter') doAction('search')">
    </div>

    <div id="resCard" class="card">
        <div class="w-en" id="hEn"></div>
        <div class="w-fa" id="hFa"></div>
        <div id="contentArea"></div>
    </div>

    <div class="nav-grid">
        <button class="nav-btn" style="background:#f39c12" onclick="doAction('match')">ğŸ“ Ù…Ø³Ø§Ø¨Ù‚Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡</button>
        <button class="nav-btn" style="background:#9b59b6" onclick="activateVIP()">ğŸ’ ØªØ§ÛŒÛŒØ¯ Ú©Ø§Ø±Ø¨Ø±</button>
        <button class="nav-btn" style="background:#27ae60">ğŸ—‚ Ù„Ø§ÛŒØªÙ†Ø± (0)</button>
        <button class="nav-btn" style="background:#e74c3c" onclick="if(confirm('Ø®Ø±ÙˆØ¬ Ø§Ø² Ø¨Ø±Ù†Ø§Ù…Ù‡ØŸ')) location.reload();">ğŸšª Ø®Ø±ÙˆØ¬</button>
    </div>

    <div id="marketBox" class="box" style="margin-top: 20px;">
        <h3 style="color:var(--blue)">Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù…ÛŒÙ‡Ù…Ø§Ù†! ğŸš€</h3>
        <p>Ûµ Ú©Ù„ÛŒÚ© Ø§Ù…Ø±ÙˆØ² ØªÙ…Ø§Ù… Ø´Ø¯. Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ùˆ ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ù†Ø§Ù…Ø­Ø¯ÙˆØ¯ ØªÙˆØ³Ø· Ø§Ø³ØªØ§Ø¯ Fred:</p>
        <button class="nav-btn" style="background:#25D366; width:100%" onclick="window.open('https://wa.me/989017708544?text=Ø³Ù„Ø§Ù… Ø§Ø³ØªØ§Ø¯ Ù…Ù† Ù…Ø§ÛŒÙ„ Ø¨Ù‡ Ø«Ø¨Øª Ù†Ø§Ù… Ù‡Ø³ØªÙ…')">ğŸ’¬ ÙˆØ§ØªØ³â€ŒØ¢Ù¾</button>
        <button class="nav-btn" style="background:var(--blue); width:100%" onclick="location.href='tel:09017708544'">ğŸ“ ØªÙ…Ø§Ø³</button>
    </div>
</div>

<div class="footer">
    <span>â­ 0</span>
    <span style="font-size: 35px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));">ğŸ†</span>
    <span id="clickCounter">ğŸ“ 0/5</span>
</div>

<script>
    const TG_URL = "https://api.telegram.org/bot8553224514:AAG0XXzA8da55jCGXnzStP-0IxHhnfkTPRw/sendMessage";
    const CHAT_ID = "96991859";
    const MASTER_CODE = "FRED-2025"; // Ú©Ø¯ Ú©Ù†ØªØ±Ù„ÛŒ Ø´Ù…Ø§

    let isMuted = false;
    let db = JSON.parse(localStorage.getItem('fred_pro_final')) || { type: 'guest', clicks: 0, date: new Date().toLocaleDateString(), deviceId: null };

    // Fingerprint Ø§Ø®ØªØµØ§ØµÛŒ Ø¯Ø³ØªÚ¯Ø§Ù‡
    const getDeviceId = () => navigator.userAgent.length + window.screen.width + (db.deviceId || Math.random());

    // Ø±ÛŒØ³Øª Ø±ÙˆØ²Ø§Ù†Ù‡
    if (db.date !== new Date().toLocaleDateString()) {
        db.clicks = 0; db.date = new Date().toLocaleDateString(); saveDB();
    }

    function saveDB() { localStorage.setItem('fred_pro_final', JSON.stringify(db)); updateUI(); }

    function updateUI() {
        document.getElementById('userBadge').innerText = db.type === 'student' ? "ğŸ‘¨â€ğŸ“ Ø´Ø§Ú¯Ø±Ø¯ VIP" : "ğŸ‘¤ Ù…ÛŒÙ‡Ù…Ø§Ù†";
        document.getElementById('clickCounter').innerText = db.type === 'student' ? "ğŸ“ âˆ" : `ğŸ“ ${db.clicks}/5`;
        if (db.type === 'guest' && db.clicks >= 5) document.getElementById('marketBox').style.display = 'block';
    }

    function doAction(act) {
        if (db.type === 'guest' && db.clicks >= 5) { updateUI(); return; }
        
        const val = document.getElementById('wordInp').value.trim().toLowerCase();
        if (act === 'search' && val) {
            document.getElementById('resCard').style.display = 'block';
            document.getElementById('hEn').innerText = val;
            document.getElementById('hFa').innerText = "Ù…Ø¹Ù†ÛŒ Ø³Ø·Ø­ A1";
            document.getElementById('contentArea').innerHTML = `<div class="box"><span class="box-en">Example Sentence</span><span class="box-ex">This is an example for ${val}.</span></div>`;
            spk(val);
        }
        
        db.clicks++;
        saveDB();
        sendReport(`ğŸ“Š Ø§Ù‚Ø¯Ø§Ù… [${db.type}]: ${act} - ${val || 'Ø¨Ø¯ÙˆÙ† Ù…ØªÙ†'}`);
    }

    function activateVIP() {
        let code = prompt("Ú©Ø¯ Ù„Ø§ÛŒØ³Ù†Ø³ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:");
        if (code === MASTER_CODE) {
            db.type = 'student';
            db.deviceId = getDeviceId();
            saveDB();
            alert("Ø¯Ø³ØªÚ¯Ø§Ù‡ Ø´Ù…Ø§ ØªØ§ÛŒÛŒØ¯ Ø´Ø¯! âœ…");
            sendReport(`âœ… VIP ÙØ¹Ø§Ù„ Ø´Ø¯\nÚ©Ø¯: ${code}\nØ¯Ø³ØªÚ¯Ø§Ù‡: ${db.deviceId}`);
            location.reload();
        } else if(code) { alert("Ú©Ø¯ Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª!"); }
    }

    async function sendReport(msg) {
        if (navigator.onLine) fetch(`${TG_URL}?chat_id=${CHAT_ID}&text=${encodeURIComponent(msg)}`).catch(()=>{});
    }

    function spk(t) {
        if (isMuted) return;
        window.speechSynthesis.cancel();
        let m = new SpeechSynthesisUtterance(t);
        m.lang = 'en-US'; m.rate = 0.7;
        window.speechSynthesis.speak(m);
    }

    function toggleMute() { isMuted = !isMuted; document.getElementById('muteBtn').innerText = isMuted ? "ğŸ”‡" : "ğŸ”Š"; }
    function toggleTheme() { document.documentElement.setAttribute('data-theme', document.documentElement.getAttribute('data-theme') === "dark" ? "" : "dark"); }

    updateUI();
</script>
</body>
</html>
