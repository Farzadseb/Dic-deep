<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  
  <title>Fred Elite | Vocabulary Trainer</title>

  <meta name="description" content="Ø¢Ù…ÙˆØ²Ø´ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ù„ØºØ§Øª Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§ Ù…ØªØ¯ Fred" />
  <meta name="author" content="Farzad" />
  <meta name="theme-color" content="#e0e5ec" />

  <style>
    :root { 
      --bg: #e0e5ec; --text: #333; --accent: #1e40af; --red: #d63031;
      --shadow: 6px 6px 12px #b8bec5, -6px -6px 12px #ffffff;
      --inner: inset 4px 4px 8px #b8bec5, inset -4px -4px 8px #ffffff;
    }
    body.dark-mode { 
      --bg: #2d3436; --text: #dfe6e9; --accent: #81ecec;
      --shadow: 6px 6px 12px #1b1f20, -6px -6px 12px #3f494d;
      --inner: inset 4px 4px 8px #1b1f20, inset -4px -4px 8px #3f494d;
    }
    body { background-color: var(--bg); color: var(--text); font-family: Tahoma, sans-serif; margin: 0; padding: 15px; transition: 0.3s; line-height: 1.6; }
    
    /* Header & Icons */
    .top-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    .icon-btn { width: 50px; height: 50px; border-radius: 50%; border: none; background: var(--bg); box-shadow: var(--shadow); cursor: pointer; font-size: 20px; color: var(--text); }
    .icon-btn:active { box-shadow: var(--inner); }

    /* Search Section */
    .search-section { margin-bottom: 25px; }
    .search-input { width: 100%; padding: 15px; border-radius: 50px; border: none; background: var(--bg); box-shadow: var(--inner); outline: none; text-align: center; font-size: 18px; color: var(--text); box-sizing: border-box; }

    /* Main Card Area */
    .word-card { background: var(--bg); border-radius: 30px; box-shadow: var(--shadow); padding: 20px; margin-bottom: 25px; display: none; }
    .card-header { display: flex; flex-direction: row-reverse; justify-content: space-between; align-items: center; margin-bottom: 15px; }
    .word-en { font-size: 36px; font-weight: bold; color: var(--accent); margin: 0; }
    .word-fa { font-size: 28px; font-weight: bold; color: var(--red); margin: 0; }

    /* Content Blocks */
    .block { margin-top: 20px; text-align: left; direction: ltr; }
    .block h3 { font-size: 14px; color: #888; margin-bottom: 5px; border-bottom: 1px solid #ccc; padding-bottom: 2px; }
    .content-box { background: var(--bg); box-shadow: var(--inner); padding: 12px; border-radius: 15px; font-size: 18px; font-weight: bold; color: var(--text); margin: 5px 0; }
    .fa-meaning { direction: rtl; text-align: right; color: var(--red); font-size: 16px; font-weight: bold; margin-bottom: 10px; }

    /* Navigation Buttons */
    .actions { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
    .btn { padding: 15px; border-radius: 18px; border: none; color: white; font-size: 18px; font-weight: bold; cursor: pointer; box-shadow: var(--shadow); transition: 0.2s; }
    .btn:active { transform: scale(0.95); }
    .btn-exit { grid-column: span 2; background: #e74c3c; margin-top: 10px; }
    
    .hidden { display: none; }
  </style>
</head>
<body onclick="app.initAudio()">

  <header class="top-bar">
    <button id="speakerBtn" class="icon-btn" onclick="app.toggleMute()">ğŸ”Š</button>
    <div class="mode">Guest Mode ğŸ‘¤</div>
    <button class="icon-btn" onclick="app.toggleTheme()">ğŸŒ“</button>
  </header>

  <section class="search-section">
    <input type="text" id="searchInput" class="search-input" placeholder="Ø¬Ø³ØªØ¬ÙˆÛŒ Ú©Ù„Ù…Ù‡..." oninput="app.search()" />
  </section>

  <main id="wordCard" class="word-card">
    <div class="card-header">
      <h1 id="enMain" class="word-en"></h1>
      <h2 id="faMain" class="word-fa"></h2>
    </div>

    <div class="block">
      <h3>Definition</h3>
      <p id="defFa" class="fa-meaning"></p> <div id="defBox" class="content-box"></div> </div>

    <div class="block">
      <h3>Example</h3>
      <p id="exFa" class="fa-meaning"></p>
      <div id="exBox" class="content-box"></div>
    </div>

    <div class="block">
      <h3>Collocations</h3>
      <p id="collFa" class="fa-meaning"></p>
      <div id="collBox" class="content-box"></div>
    </div>

    <div class="block">
      <h3>Phrasal Verbs</h3>
      <p id="phrFa" class="fa-meaning"></p>
      <div id="phrBox" class="content-box"></div>
    </div>
  </main>

  <nav class="actions">
    <button class="btn" style="background: #3498db;" onclick="app.startQuiz()">ğŸ“ ØªÙ…Ø±ÛŒÙ†</button>
    <button class="btn" style="background: #2ecc71;" onclick="alert('Ø¨Ù‡â€ŒØ²ÙˆØ¯ÛŒ')">ğŸ“‚ Ù„Ø§ÛŒØªÙ†Ø±</button>
    <button class="btn" style="background: #f39c12;" onclick="alert('Ø¨Ù‡â€ŒØ²ÙˆØ¯ÛŒ')">ğŸ® Ù…Ø³Ø§Ø¨Ù‚Ù‡</button>
    <button class="btn" style="background: #9b59b6;" onclick="alert('Ø¨Ù‡â€ŒØ²ÙˆØ¯ÛŒ')">ğŸ’ VIP</button>
    <button class="btn btn-exit" onclick="location.reload()">âœ– Ø®Ø±ÙˆØ¬</button>
  </nav>

  <script>
    // Ù„ÙˆØ¯ Ø¯ÛŒÚ©Ø´Ù†Ø±ÛŒ
    const script = document.createElement('script');
    script.src = "dictionary.js?v=" + Date.now();
    document.head.appendChild(script);

    const app = {
      isMuted: false, audioInit: false,
      initAudio() { if(!this.audioInit) { window.speechSynthesis.getVoices(); this.audioInit = true; } },
      toggleTheme() { document.body.classList.toggle('dark-mode'); },
      toggleMute() {
        this.isMuted = !this.isMuted;
        document.getElementById('speakerBtn').innerText = this.isMuted ? "ğŸ”‡" : "ğŸ”Š";
      },
      search() {
        const term = document.getElementById('searchInput').value.trim().toLowerCase();
        const card = document.getElementById('wordCard');
        if(!term || typeof dictionary === 'undefined') { card.style.display = 'none'; return; }
        
        const f = dictionary.find(w => w.en.toLowerCase() === term);
        if(f) {
          card.style.display = 'block';
          document.getElementById('enMain').innerText = f.en.toUpperCase();
          document.getElementById('faMain').innerText = f.fa;
          
          // Ú†ÛŒØ¯Ù…Ø§Ù†: Ø§Ø¨ØªØ¯Ø§ Ù…Ø¹Ù†ÛŒ Ù‚Ø±Ù…Ø²ØŒ Ø³Ù¾Ø³ Ú©Ø§Ø¯Ø± Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ
          document.getElementById('defFa').innerText = f.defFa || "";
          document.getElementById('defBox').innerText = f.def || "---";

          document.getElementById('exFa').innerText = f.exFa || "";
          document.getElementById('exBox').innerText = f.ex || "---";

          document.getElementById('collFa').innerText = f.colFa || "";
          document.getElementById('collBox').innerText = f.col || "---";

          document.getElementById('phrFa').innerText = f.phrFa || "";
          document.getElementById('phrBox').innerText = f.phr || "---";

          if(!this.isMuted) {
            window.speechSynthesis.cancel();
            const u = new SpeechSynthesisUtterance(f.en);
            u.lang = 'en-US'; u.rate = 0.8;
            window.speechSynthesis.speak(u);
          }
        } else { card.style.display = 'none'; }
      },
      startQuiz() { alert("Ù…ÙˆØªÙˆØ± ØªÙ…Ø±ÛŒÙ† Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."); }
    };
  </script>
</body>
</html>
