<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FredDic Pro - Optimized Version</title>
    <style>
        :root {
            --bg: #e0e0e0;
            --shadow: 7px 7px 14px #bebebe, -7px -7px 14px #ffffff;
            --inner-shadow: inset 4px 4px 8px #bebebe, inset -4px -4px 8px #ffffff;
        }
        body { background: var(--bg); font-family: 'Tahoma', sans-serif; display: flex; justify-content: center; padding: 15px; color: #333; }
        .app { width: 100%; max-width: 400px; }
        
        /* Ø§ØµÙ„Ø§Ø­ Ø§Ù†Ø¯Ø§Ø²Ù‡ Ø³Ø±Ú† */
        .search-area { display: flex; gap: 10px; margin-bottom: 20px; align-items: center; }
        input { 
            flex: 1; padding: 18px; border-radius: 15px; border: none; 
            background: var(--bg); box-shadow: var(--inner-shadow); 
            font-size: 20px; outline: none; direction: ltr;
        }
        .search-btn {
            background: var(--bg); border: none; box-shadow: var(--shadow);
            border-radius: 15px; padding: 15px; cursor: pointer; font-size: 22px;
        }

        /* Ú©Ø§Ø±Øª Ù†ØªØ§ÛŒØ¬ */
        .card { 
            background: var(--bg); border-radius: 30px; padding: 25px; 
            box-shadow: var(--shadow); display: none; direction: ltr; text-align: left; 
        }

        h2#wordTitle { font-size: 40px; margin: 0; color: #1e40af; text-transform: uppercase; }
        .label { font-size: 20px; font-weight: bold; color: #666; margin-top: 15px; display: block; }
        #txtDef { font-size: 22px; line-height: 1.3; color: #444; }
        
        .farsi { 
            direction: rtl; text-align: right; color: #d32f2f; 
            font-size: 24px; font-weight: bold; margin-bottom: 8px; display: block; 
        }

        .btn-item { 
            width: 100%; text-align: left; padding: 18px; margin: 8px 0; 
            border-radius: 15px; border: none; background: #dcdcdc; 
            box-shadow: 3px 3px 6px #bebebe, -3px -3px 6px #ffffff; 
            cursor: pointer; font-size: 22px; font-weight: bold;
        }

        /* Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾Ø§ÛŒÛŒÙ†ÛŒ */
        .btn-group { display: flex; flex-direction: column; gap: 15px; margin-top: 30px; }
        .btn-main { 
            width: 100%; padding: 20px; border-radius: 20px; border: none; 
            color: white; font-weight: bold; cursor: pointer; font-size: 24px; 
            box-shadow: 5px 5px 10px #aaa; transition: 0.2s;
        }
        .btn-main:active { transform: scale(0.98); }
        .btn-blue { background: #2563eb; }
        .btn-green { background: #16a34a; }
        .btn-orange { background: #ea580c; }
    </style>
</head>
<body>

<div class="app">
    <h1 style="text-align: center; font-size: 32px; margin-bottom: 10px;">FredDic Pro</h1>
    <p style="text-align: center; margin-top: 0; color: #666;">PDCS English System</p>
    
    <div class="search-area">
        <input type="text" id="wordInput" placeholder="Enter word...">
        <button class="search-btn" onclick="handleSearch()">ğŸ”</button>
    </div>

    <div id="resultCard" class="card">
        <h2 id="wordTitle"></h2>
        
        <span class="label">Farsi:</span>
        <span class="farsi" id="txtFarsiMain"></span>

        <span class="label">Definition:</span>
        <div id="txtDef"></div>

        <span class="label">Example:</span>
        <button class="btn-item" id="btnEx" onclick="speak(this.innerText)"></button>
        <span class="farsi" id="txtExFarsi"></span>

        <span class="label">Collocations:</span>
        <div id="colList"></div>
    </div>

    <div class="btn-group">
        <button class="btn-main btn-blue" onclick="startMatch()">ğŸ† Ù…Ø³Ø§Ø¨Ù‚Ù‡ Ø¨Ø§ AI</button>
        <button class="btn-main btn-green" onclick="openLeitner()">ğŸ—‚ Ø¬Ø¹Ø¨Ù‡ Ù„Ø§ÛŒØªÙ†Ø±</button>
        <button class="btn-main btn-orange" onclick="dailyTest()">ğŸ“ ØªØ³Øª Ù„ØºØ§Øª Ø±ÙˆØ²Ø§Ù†Ù‡</button>
    </div>
</div>

<script>
    // ØªÙˆÚ©Ù† Ùˆ Ú†Øª Ø¢ÛŒØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ú¯Ø²Ø§Ø±Ø´
    const CONFIG = {
        token: "8553224514:AAG0XXzA8da55jCGXnzStP-0IxHhnfkTPRw",
        chatId: "96991859"
    };

    // Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ù„ØºØ§Øª (Ø­ØªÙ…Ø§Ù‹ Ú©Ù„Ù…Ø§Øª Ø±Ø§ Ø¨Ø§ Ø­Ø±ÙˆÙ Ú©ÙˆÚ†Ú© Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯)
    const pdcsDb = {
        "be": { f: "Ø¨ÙˆØ¯Ù†", d: "To exist or live", ex: "Just be yourself", exF: "ÙÙ‚Ø· Ø®ÙˆØ¯Øª Ø¨Ø§Ø´", cols: [{en: "be careful", fa: "Ù…ÙˆØ§Ø¸Ø¨ Ø¨Ø§Ø´"}] },
        "have": { f: "Ø¯Ø§Ø´ØªÙ†", d: "To possess or hold", ex: "I have a dream", exF: "Ù…Ù† ÛŒÚ© Ø±ÙˆÛŒØ§ Ø¯Ø§Ø±Ù…", cols: [{en: "have a look", fa: "Ù†Ú¯Ø§Ù‡ÛŒ Ø§Ù†Ø¯Ø§Ø®ØªÙ†"}] },
        "work": { f: "Ú©Ø§Ø± Ú©Ø±Ø¯Ù†", d: "To do a job", ex: "I work every day", exF: "Ù…Ù† Ù‡Ø± Ø±ÙˆØ² Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù…", cols: [{en: "hard work", fa: "Ú©Ø§Ø± Ø³Ø®Øª"}] },
        "take": { f: "Ú¯Ø±ÙØªÙ† / Ø¨Ø±Ø¯Ø§Ø´ØªÙ†", d: "To get or carry", ex: "Take your time", exF: "Ø¹Ø¬Ù„Ù‡ Ù†Ú©Ù†", cols: [{en: "take a break", fa: "Ø§Ø³ØªØ±Ø§Ø­Øª Ú©Ø±Ø¯Ù†"}] },
        "go": { f: "Ø±ÙØªÙ†", d: "To move to a place", ex: "Go home now", exF: "Ø§Ù„Ø§Ù† Ø¨Ø±Ùˆ Ø®ÙˆÙ†Ù‡", cols: [{en: "go crazy", fa: "Ø¯ÛŒÙˆØ§Ù†Ù‡ Ø´Ø¯Ù†"}] }
    };

    function handleSearch() {
        const wordInput = document.getElementById('wordInput');
        const word = wordInput.value.toLowerCase().trim();
        const data = pdcsDb[word];
        
        if (data) {
            document.getElementById('resultCard').style.display = 'block';
            document.getElementById('wordTitle').innerText = word;
            document.getElementById('txtFarsiMain').innerText = data.f;
            document.getElementById('txtDef').innerText = data.d;
            document.getElementById('btnEx').innerText = data.ex;
            document.getElementById('txtExFarsi').innerText = data.exF;
            
            const colDiv = document.getElementById('colList');
            colDiv.innerHTML = '';
            data.cols.forEach(c => {
                colDiv.innerHTML += `<button class="btn-item" onclick="speak('${c.en}')">${c.en}</button>
                                     <span class="farsi">${c.fa}</span>`;
            });
            
            speak(word);
            sendReport(`Ú©Ø§Ø±Ø¨Ø± Ù„ØºØª [${word}] Ø±Ø§ Ø¬Ø³ØªØ¬Ùˆ Ú©Ø±Ø¯.`);
        } else {
            alert("Ù„ØºØª Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³ ÛŒØ§ÙØª Ù†Ø´Ø¯. (Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„: be, have, work, take, go)");
        }
    }

    function speak(t) {
        window.speechSynthesis.cancel();
        const m = new SpeechSynthesisUtterance(t);
        m.lang = 'en-US'; 
        m.rate = 0.7;
        window.speechSynthesis.speak(m);
    }

    async function sendReport(msg) {
        const url = `https://api.telegram.org/bot${CONFIG.token}/sendMessage?chat_id=${CONFIG.chatId}&text=${encodeURIComponent(msg)}`;
        fetch(url).catch(e => console.log("Report error"));
    }

    function openLeitner() { alert("Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ù‡ Ø¬Ø¹Ø¨Ù‡ Ù„Ø§ÛŒØªÙ†Ø±..."); }
    function dailyTest() { alert("ØªØ³Øª Ûµ Ø³ÙˆØ§Ù„ÛŒ Ø§Ù…Ø±ÙˆØ² Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø¯."); }
    function startMatch() { alert("Û³Û° Ø«Ø§Ù†ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ ÛŒØ§ÙØªÙ† Ø±Ù‚ÛŒØ¨ ØµØ¨Ø± Ú©Ù†ÛŒØ¯..."); }
</script>
</body>
</html>
